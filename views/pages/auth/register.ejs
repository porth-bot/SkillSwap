<%# Registration Page %>
<% layout('layouts/main') -%>

<div class="auth-page">
    <div class="auth-main">
        <div class="auth-container" style="max-width: 500px;">
            <div class="auth-header">
                <a href="/" class="auth-logo">
                    <div class="navbar-logo">S</div>
                    <span>SkillSwap</span>
                </a>
                <h1 class="auth-title">Create your account</h1>
                <p class="auth-subtitle">Join the community and start exchanging skills</p>
            </div>
            
            <div class="auth-card">
                <form action="/auth/register" method="POST" data-validate>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="form-group">
                            <label for="firstName" class="form-label form-label-required">First Name</label>
                            <input 
                                type="text" 
                                id="firstName" 
                                name="firstName" 
                                class="form-input" 
                                placeholder="John"
                                required
                                minlength="2"
                                maxlength="50"
                                autocomplete="given-name"
                                value="<%= typeof firstName !== 'undefined' ? firstName : '' %>"
                            >
                        </div>
                        
                        <div class="form-group">
                            <label for="lastName" class="form-label form-label-required">Last Name</label>
                            <input 
                                type="text" 
                                id="lastName" 
                                name="lastName" 
                                class="form-input" 
                                placeholder="Doe"
                                required
                                minlength="2"
                                maxlength="50"
                                autocomplete="family-name"
                                value="<%= typeof lastName !== 'undefined' ? lastName : '' %>"
                            >
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="username" class="form-label form-label-required">Username</label>
                        <input 
                            type="text" 
                            id="username" 
                            name="username" 
                            class="form-input" 
                            placeholder="johndoe"
                            required
                            minlength="3"
                            maxlength="30"
                            pattern="^[a-zA-Z0-9_]+$"
                            autocomplete="username"
                            value="<%= typeof username !== 'undefined' ? username : '' %>"
                        >
                        <span class="form-hint">Letters, numbers, and underscores only. 3-30 characters.</span>
                    </div>
                    
                    <div class="form-group">
                        <label for="email" class="form-label form-label-required">Email Address</label>
                        <input 
                            type="email" 
                            id="email" 
                            name="email" 
                            class="form-input" 
                            placeholder="you@school.edu"
                            required
                            autocomplete="email"
                            value="<%= typeof email !== 'undefined' ? email : '' %>"
                        >
                    </div>
                    
                    <div class="form-group">
                        <label for="password" class="form-label form-label-required">Password</label>
                        <div style="position: relative;">
                            <input 
                                type="password" 
                                id="password" 
                                name="password" 
                                class="form-input" 
                                placeholder="••••••••"
                                required
                                minlength="8"
                                data-validate="password"
                                autocomplete="new-password"
                                style="padding-right: 44px;"
                            >
                            <button type="button" class="password-toggle" style="position: absolute; right: 12px; top: 50%; transform: translateY(-50%); background: none; border: none; color: var(--text-tertiary); cursor: pointer;">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <span class="form-hint">At least 8 characters with uppercase, lowercase, and a number.</span>
                    </div>
                    
                    <div class="form-group">
                        <label for="confirmPassword" class="form-label form-label-required">Confirm Password</label>
                        <input 
                            type="password" 
                            id="confirmPassword" 
                            name="confirmPassword" 
                            class="form-input" 
                            placeholder="••••••••"
                            required
                            data-validate="password-confirm"
                            autocomplete="new-password"
                        >
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div class="form-group">
                            <label for="grade" class="form-label">Grade Level</label>
                            <select id="grade" name="grade" class="form-select">
                                <option value="">Select grade</option>
                                <option value="9">9th Grade</option>
                                <option value="10">10th Grade</option>
                                <option value="11">11th Grade</option>
                                <option value="12">12th Grade</option>
                                <option value="college">College</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="school" class="form-label">School</label>
                            <input 
                                type="text" 
                                id="school" 
                                name="school" 
                                class="form-input" 
                                placeholder="Your school name"
                                maxlength="100"
                            >
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-check">
                            <input type="checkbox" name="terms" class="form-check-input" required>
                            <span class="form-check-label">
                                I agree to the <a href="/terms" target="_blank">Terms of Service</a> and <a href="/privacy" target="_blank">Privacy Policy</a>
                            </span>
                        </label>
                    </div>
                    
                    <button type="submit" class="btn btn-primary btn-lg w-full">
                        <i class="fas fa-user-plus"></i>
                        Create Account
                    </button>
                </form>
                
                <div class="auth-footer">
                    Already have an account? 
                    <a href="/auth/login">Sign in</a>
                </div>
            </div>
        </div>
    </div>
    
    <div class="auth-sidebar">
        <div class="auth-sidebar-content">
            <h2 class="auth-sidebar-title">Start teaching & learning today</h2>
            <p class="auth-sidebar-description">
                Join thousands of students who are already exchanging skills, building their profiles, and helping each other succeed.
            </p>
            
            <div class="mt-8" style="background: rgba(255,255,255,0.1); border-radius: 16px; padding: 24px;">
                <div class="flex items-center gap-3 mb-4">
                    <div class="avatar avatar-sm" style="background: var(--color-primary-500);">
                        <i class="fas fa-quote-left"></i>
                    </div>
                    <span style="color: var(--color-primary-300); font-weight: 600;">Student Testimonial</span>
                </div>
                <p style="color: var(--color-slate-300); font-style: italic; margin-bottom: 16px;">
                    "SkillSwap helped me ace my AP Calculus exam. The tutor I found was another student who had taken the same class last year—she knew exactly what I needed to focus on!"
                </p>
                <div style="color: var(--color-slate-400); font-size: 14px;">
                    — Sarah M., Junior
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.auth-page {
    display: flex;
    min-height: 100vh;
}

.auth-page .main-content {
    padding: 0;
}

@media (max-width: 1023px) {
    .auth-sidebar {
        display: none;
    }
    
    .grid-cols-2 {
        grid-template-columns: 1fr;
    }
}
</style>