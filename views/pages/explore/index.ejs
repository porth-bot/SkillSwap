<%- include('../../partials/header') %>
<div class="container">
    <h1>Find Tutors</h1>
    
    <form class="search-form" method="GET">
        <input type="text" name="skill" placeholder="Search skills..." value="<%= filters.skill || '' %>">
        <select name="grade">
            <option value="">All Grades</option>
            <option value="9" <%= filters.grade === '9' ? 'selected' : '' %>>9th</option>
            <option value="10" <%= filters.grade === '10' ? 'selected' : '' %>>10th</option>
            <option value="11" <%= filters.grade === '11' ? 'selected' : '' %>>11th</option>
            <option value="12" <%= filters.grade === '12' ? 'selected' : '' %>>12th</option>
        </select>
        <button type="submit" class="btn btn-primary">Search</button>
    </form>

    <div class="tutor-grid">
        <% if (tutors.length > 0) { %>
            <% tutors.forEach(tutor => { %>
                <div class="tutor-card">
                    <div class="tutor-avatar"><%= tutor.firstName.charAt(0) %><%= tutor.lastName.charAt(0) %></div>
                    <h3><%= tutor.firstName %> <%= tutor.lastName %></h3>
                    <p class="tutor-grade">Grade <%= tutor.grade %></p>
                    <div class="tutor-skills">
                        <% tutor.skillsOffered.slice(0, 3).forEach(skill => { %>
                            <span class="skill-tag"><%= skill.name %></span>
                        <% }) %>
                    </div>
                    <a href="/profile/<%= tutor.username %>" class="btn btn-outline btn-sm">View Profile</a>
                </div>
            <% }) %>
        <% } else { %>
            <p>No tutors found. Try a different search.</p>
        <% } %>
    </div>
</div>
<%- include('../../partials/footer') %>
